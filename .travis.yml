matrix:
  include:
  - os: linux
    dist: trusty
    language: generic
    sudo: required
    services:
    - docker
    env: DOCKER_IMAGE=d0m3nik/cython-primary:0.0.7
  - os: osx
    osx_image: xcode9
    language: generic
    sudo: required
    env: PYTHON_VERSION=py34
  - os: osx
    osx_image: xcode9
    language: generic
    sudo: required
    env: PYTHON_VERSION=py35
  - os: osx
    osx_image: xcode9
    language: generic
    sudo: required
    env: PYTHON_VERSION=py36
env:
  global: 
    - TWINE_USERNAME=d0m3nik
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then docker pull $DOCKER_IMAGE; fi
script:
  - "./build_travis.sh"
  - ls dist/
